(function(){function q(a){var b=new Image;ga(b);b.addEventListener("load",Ba,!1);b.src=a+"?ts="+(new Date).getTime();return b}function Ba(){T(this)}function Ca(){z&&(window.clearTimeout(z),z=null);this.removeEventListener("progress",U,!1);T(this)}function U(){z&&window.clearTimeout(z);var a=this;z=window.setTimeout(function(){z=null;a.removeEventListener("progress",U,!1);T(a)},2E3)}function T(a){for(var b=[],e=0;e<A.length;++e)A[e]!=a&&b.push(A[e]);A=b;a=document.createEvent("Event");a.initEvent("itemsLoader",
!0,!0);a.total=I;a.i=I-A.length;window.dispatchEvent(a)}function ga(a){A.push(a);++I;a=document.createEvent("Event");a.initEvent("itemsLoader",!0,!0);a.total=I;a.i=I-A.length;window.dispatchEvent(a)}function Da(){O=this.currentTime}function Ea(){P=!0;ha(ia)}function ia(d){if(V){W=(d-ja)/1E3*60;X=d-V;var b=ka[Y];b&&X>=b.b&&(++Y,b=ka[Y]);if(b){var e=X-b.a,c=e/(b.b-b.a);la=Fa[b.c];var g=(new Date).getTime();a.globalAlpha=1;a.save();la.call(this,b.d,e,c,W);a.restore()}else P=!1;b=(22-((new Date).getTime()-
g)-10*W)/200;0<b&&(b*=0.005);b=ma+b;1<b?b=1:0.1>b&&(b=0.1);ma=b}O&&(1>O&&(V=d-1E3*O-250),ja=d);P?ha(ia):(d=document.createEvent("Event"),d.initEvent("demoDone",!0,!0),window.dispatchEvent(d))}function Z(d,b,e,c,g,f,h){a.save();a.translate(g,f);a.scale(c,c);a.rotate(e);a.translate(-256,-256);a.beginPath();e=d.length;for(c=0;c<e;c+=2)0==c?a.moveTo(d[c],d[c+1]):a.lineTo(d[c],d[c+1]);a.closePath();a.globalAlpha=b;a.fillStyle=h;a.fill();a.restore()}function u(a){return(1-Math.cos(a*Ga))/2}var v=Math.random,
X=0,W=1,ha=function(a,b,e){for(var c=0;c<a.length;++c){var g=a[c];if(b[g])return b[g]}return e}(["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],window,function(a){var b=(new Date).getTime(),b=b-b%17+17-b;5>b&&(b=17);window.setTimeout(function(){a.call(window,(new Date).getTime())},b)}),Ga=4*Math.atan(1);Math.max(320,256);var $,a,m,ma,ja,V,O,Y=0,la,P,na,D,Q,s,J,aa,ba,B,oa,E,F,C,K,ca,t,pa,Ha=[31,0,481,0,440,460,256,511,71,460],Ia=[256,37,440,37,405,431,256,472],Ja=
[114,94,397,94,391,150,175,150,180,208,386,208,371,381,256,413,140,381,132,293,188,293,192,338,256,355,318,338,325,264,129,264],qa,ra,sa,ta,L=[],da=[0,0,0,25,19,0,51,39,0,102,43,0,136,49,0,187,40,0,187,69,0,205,101,0,221,152,0,223,183,0,222,229,2,103,233,11,19,238,17,9,255,123,2,255,242,1,135,255],M,ea,G,Ka=32768/(4*Math.atan(1)),ua,La=function(){for(var a=[],b=0;7>=b;++b){var e=136+17*b|0,c=68+102/7*b|0;a.push("#"+(16777216+65536*e+256*c+c).toString(16).substr(1));a.push("#"+(16777216+65536*e+256*
e+e).toString(16).substr(1))}return a}(),R,fa,N=0,w=[],va=[{a:0,e:119,f:0,h:210,g:18},{a:1400,e:224,f:0,h:263,g:18},{a:2300,e:278,f:0,h:310,g:18},{a:3200,e:191,f:26,h:229,g:44},{a:4E3,e:96,f:52,h:270,g:70},{a:4900,e:282,f:52,h:330,g:70},{a:5500,e:173,f:78,h:185,g:96},{a:5800,e:199,f:78,h:217,g:96},{a:6150,e:232,f:78,h:249,g:96},{a:6500,e:191,f:108,h:223,g:126},{a:7100,e:0,f:126,h:416,g:188}],S,wa,xa,ya,za,Aa,Fa=[function(d,b,e){a.fillStyle="#000000";a.fillRect(0,0,640,512);d=2300>b?0:3E3>b?(b-2300)/
700:9500>b?1:1E4>b?(1E4-b)/500:0;b=119*(1300>b?0:2E3>b?(b-1300)/700:8500>b?1:9E3>b?(9E3-b)/500:0)|0;e=-e-0.75;a.save();a.fillStyle="rgba("+b+","+b+","+b+",1)";a.font="60px sans-serif";a.scale(-0.5,1);a.translate(640*e,0);a.textAlign="left";a.textBaseline="top";a.fillText("Endpart loaded...",0,50);a.restore();a.globalAlpha=d;a.drawImage(D,320-D.width,460-2*D.height,2*D.width,2*D.height)},function(d,b,e){a.fillStyle="#000000";a.fillRect(0,0,640,512);a.globalAlpha=0.05>e?20*e:0.95<e?20-20*e:1;d=7E3>
b?5E3:8456>b?5E3+45*(b-7E3):10550>b?5E3:12006>b?5E3+45*(b-10550):14100>b?5E3:15556>b?5E3+45*(b-14100):5E3;e=60-700*e;s.fillStyle="#001700";s.fillRect(0,0,50,50);s.textAlign="left";s.textBaseline="middle";s.fillStyle="#ffffff";s.font="bold 40px sans-serif";s.fillText("SANITY",e,30);s.font="30px sans-serif";s.fillText("lbrtw.com for more info!",e+170,30);s.font="bold 40px sans-serif";s.fillText("SANITY",e+500,30);e=s.getImageData(0,0,50,50);var c=0;b=160*(8E3>b?u(b/8E3):15E3>b?1-u((b-8E3)/7E3):u((b-
15E3)/8E3));for(var g=25;-25<g;--g)for(var f=-25;25>f;++f){var h=g*m[d+16384&65535]+f*m[d&65535],n=320+2500*(f*m[d+16384&65535]-g*m[d&65535])/(300+2*h),h=256+1200*(10-h)/(300+2*h),l=127<e.data[c],k=1-Math.abs(f)/25,p=0.5+k/2,r=g+b|0,k=m[6E3*(f-7+r)&65535]*k+m[900*-f&65535]+m[1300*(f+13)&65535]*p+m[8E3*(r+20)&65535]*k+m[1100*r&65535]+m[1700*(r+10)&65535]*p,k=(k-2)/4+r/100*p;(p=0<k)&&l?(a.fillStyle="rgba(255,130,130,0.65)",a.fillRect(n,h-50*k-20,2,2)):l?(a.fillStyle="rgba(255,27,24,0.67)",a.fillRect(n,
h-20,2,2)):p?(a.fillStyle="rgba(255,27,24,0.67)",a.fillRect(n,h-50*k,2,2)):(a.fillStyle="rgba(80,83,255,0.9)",a.fillRect(n,h,2,2));c+=4}},function(d,b,e){d=80*b;var c=900*m[20*b+16E3&65535]*(1-e)+1200,g=17*b,f=100*m[11*b+16E3&65535]+2500,h=1-e,n=0.4-0.2*e,l=ba.data,k=0;for(y=0;128>y;++y){var p=y*c-d&65535,r=y*f-g&65535;for(x=160;0<x;--x){var q=3*(50*(h*(m[x*c-d&65535]+m[p])+n*(m[x*f-g&65535]+m[r]))+200|0);l[k++]=B[q++];l[k++]=B[q++];l[k++]=B[q++];l[k++]=255}}aa.putImageData(ba,0,0);a.drawImage(J,
0,0,640,512);2E3>b&&(d=(2E3-b)/2E3,f=1-d*d,d=200-200*f,c=512*f+d,g=400-400*f,f=g+640*f,a.fillStyle="#000000",a.fillRect(0,0,640,d),a.fillRect(0,c,640,512-c+1),a.fillRect(0,d-1,g,c-d+2),a.fillRect(f,d-1,640-f+1,c-d+2));22800<=b&&30300>=b&&a.drawImage(oa,0,23300>b?512-220*u((b-22800)/500):29800<=b?512-220*u((30300-b)/500):292,128,220);0.98<e&&(a.fillStyle="rgba(0,0,0,"+(50*(e-0.98)).toFixed(3)+")",a.fillRect(0,0,640,512))},function(d,b,e){a.fillStyle="#110000";a.fillRect(0,0,640,340);a.fillStyle="#330000";
a.fillRect(0,340,640,172);d=1/6-b%500/3E3;var c=300/(400+100*m[19*b+32768&65535]),g=306-Math.abs(m[41*b&65535])*c*200,f=320+m[19*b+49152&65535]*c*200;600>b&&(f-=600-600*u(b/600));14E3<b&&(g+=600*u((b-14E3)/600));b=200*c;a.fillStyle="#442222";a.beginPath();for(var h=0;6>h;++h){for(var n=h/6+d-1/24,l=n+1/12,n=2*u(n)-1,l=2*u(l)-1,k=0;40>=k;++k){var p=-1+0.05*k,r=E[k],r=r*n*b+f,p=p*b+g;0==k?a.moveTo(r,p):a.lineTo(r,p)}for(k=40;0<=k;--k)p=-1+0.05*k,r=E[k],r=r*l*b+f,p=p*b+g,a.lineTo(r,p)}a.closePath();
a.fill();h=a.createRadialGradient(f-0.6*b*c,g,0.2*b,f,g,b);h.addColorStop(0,"rgba("+(255*c).toFixed(0)+","+(221*c).toFixed(0)+","+(221*c).toFixed(0)+",255)");h.addColorStop(0.5,"#997777");h.addColorStop(1,"#553333");a.fillStyle=h;a.beginPath();for(h=0;6>h;++h){n=h/6+d-1/24;l=n+1/12;n=1-2*u(n);l=1-2*u(l);for(k=0;40>=k;++k)p=-1+0.05*k,r=E[k],r=r*n*b+f,p=p*b+g,0==k?a.moveTo(r,p):a.lineTo(r,p);for(k=40;0<=k;--k)p=-1+0.05*k,r=E[k],r=r*l*b+f,p=p*b+g,a.lineTo(r,p)}a.closePath();a.fill();0.98<e&&(a.globalAlpha=
50*(e-0.98),a.fillStyle="#000000",a.fillRect(0,0,640,512))},function(d,b,e){var c=0;d=78*m[17*b&65535]+128;for(var g=78*m[13*b+9E3&65535]+128,f=-49.5;50>f;++f)for(var h=1/Math.sin(Math.acos(f/50)),n=-49.5;50>n;++n){var l=n*n+f*f;if(2500<=l)t.data[c++]=t.data[c++]=t.data[c++]=t.data[c++]=0;else{var k=4*(256*(1/Math.sin(Math.acos(n/50))*f+g|0)+(n*h+d|0));2100<l?(l=(2500-l)/400,t.data[c++]=C.data[k++]*l|0,t.data[c++]=C.data[k++]*l|0,t.data[c++]=C.data[k++]*l|0):(t.data[c++]=C.data[k++],t.data[c++]=C.data[k++],
t.data[c++]=C.data[k++]);t.data[c++]=255}}ca.putImageData(t,0,0);c=1;0.96<e&&(c=25*(1-e));a.fillStyle="#000000";a.globalAlpha=1;a.fillRect(0,0,640,512);a.globalAlpha=c;a.drawImage(K,120,112,400,400);1E3<b&&(a.fillStyle="#000000",a.globalAlpha=(1500<b?1:(b-1E3)/500)*c,a.drawImage(pa,97,0,446,102));6300<b&&(l=6800<b?1:(b-6300)/500,b=-0.2*u(l),e=1.25-l,d=335,g=360-300*l,Z(Ha,l*c,b,e,d,g,"#f83100"),Z(Ia,l*c,b,e,d,g,"#ff5301"),Z(Ja,l*c,b,e,d,g,"rgba(240, 248, 255, 0.9)"))},function(d,b,e){a.fillStyle=
"#000000";a.fillRect(0,0,640,512);d=L[d];var c=d.l,g=c.width*d.m,f=c.height*d.n;a.drawImage(c,320-(g>>1),256-(f>>1),g,f);500>b?(a.globalAlpha=1-b/500,a.fillStyle=d.j,a.fillRect(0,0,640,512)):(b=b/e-b,500>b&&(a.globalAlpha=1-b/500,a.fillStyle=d.k,a.fillRect(0,0,640,512)))},function(d,b,e){d=0;var c=10*b;b=1E5*m[3*b&65535];for(var g=-42.5;43>g;++g)for(var f=-47.5;48>f;++f){var h=f*f+g*g,n=Math.atan((f*m[b+16384&65535]-g*m[b&65535])/(g*m[b+16384&65535]+f*m[b&65535])),l=(c/100-Math.sqrt(h))/50,k=l|0,
p=l-k,r=0>l?0:(7*k&3)+1,q=0>l?0:(13*k&13)+5>>1,u=0>l?0:(9*k&7)+2<<2,s=0>l?0:(7*k&7)+1<<1;if(0.9<p&&0<l)var l=k+1,k=(13*l&13)+5>>1,t=(9*l&7)+2<<2,w=(7*l&7)+1<<1,p=10*(p-0.9),v=1-p,r=r*v+((7*l&3)+1)*p,q=q*v+k*p,u=u*v+t*p,s=s*v+w*p;value=m[c-h*r&65535]*u+m[n*Ka*q&65535]*s&15;value*=3;G.data[d++]=da[value++];G.data[d++]=da[value++];G.data[d++]=da[value++];G.data[d++]=255}ea.putImageData(G,0,0);a.fillStyle="#000000";a.fillRect(0,0,640,512);a.drawImage(M,128,84,384,344);0.95<e&&(a.globalAlpha=20*(e-0.95),
a.fillRect(0,0,640,512))},function(d,b,e){var c=0;if(0==d){var c=512,g=5*m[13*b&65535]+23,f=2*m[9*b+16384&65535]+2;b=2.5*m[5*b+5E4&65535]+2.5;var h=10*(e-0.9);if(0<h){var n=0.8465*h+3;b=b*(1-h)+0*h;h=u(h);g=g*(1-h)+15*h;f=f*(1-h)+n*h}a.fillStyle="#442133";a.fillRect(0,0,640,512);for(n=0;12>=n;++n)for(var l=40/(g-n),k=0;4>=k;++k){var p=(k-f-0.25)*l*200+256,r=(k-f+0.25)*l*200+256;12==n&&4==k&&0<h&&(c=p);if(0<r&&512>p){0==n&&(a.fillStyle="#553244",a.fillRect(0,p,640,r-p));for(var q=0;5>=q;++q){var s=
q*q&1,t=(q-b-0.25)*l*200+320,v=(q-b+0.25)*l*200+320;0<v&&640>t&&(a.fillStyle=La[n+s],a.fillRect(t,p,v-t,r-p))}}}0.05>e&&(a.globalAlpha=1-20*e,a.fillStyle="#000000",a.fillRect(0,0,640,512))}512>c&&(a.drawImage(ua,0,c,640,512),1==d&&0.95<e&&(a.globalAlpha=20*(e-0.95),a.fillStyle="#441022",a.fillRect(0,0,640,512)))},function(d,b,e){var c=R[N];N=1-N;d=fa[N];for(var g=0;512>g;g+=16)for(var f=g+8-256,h=0;640>h;h+=16){var n=h+8-320,l=0.995*(n+f/48)+320-8,n=0.995*(f-n/48)+256-8;0>l&&(l=0);624<l&&(l=624);
0>n&&(n=0);496<n&&(n=496);d.drawImage(c,l,n,16,16,h,g,16,16)}if(0.75>e){c=17*b;b*=7;d.fillStyle="#ffffff";f=30*m[b&65535]+90;g=320+f*m[c&65535]-10;f=256+f*m[c+16384&65535]-10;for(h=0;9>h;++h)d.fillRect(20*v()+g,20*v()+f,2,2);c=-1.1*c+7E3;b*=1.05;d.fillStyle="#883366";f=30*m[b&65535]+90;g=320+f*m[c&65535]-10;f=256+f*m[c+16384&65535]-10;for(h=0;9>h;++h)d.fillRect(20*v()+g,20*v()+f,2,2);c*=-0.8;b*=-1.05;d.fillStyle="#aa7766";f=30*m[b&65535]+90;g=320+f*m[c&65535]-10;f=256+f*m[c+16384&65535]-10;for(h=
0;9>h;++h)d.fillRect(20*v()+g,20*v()+f,2,2);c*=-1.2;d.fillStyle="#ee8899";f=30*m[-0.9*b&65535]+90;g=320+f*m[c&65535]-10;f=256+f*m[c+16384&65535]-10;for(h=0;9>h;++h)d.fillRect(20*v()+g,20*v()+f,2,2)}d.fillStyle="#441022";d.beginPath();d.arc(320,256,64,0,2*Math.PI,!1);d.closePath();d.fill();a.drawImage(R[N],0,0);0.95<e&&(a.globalAlpha=20*(e-0.95),a.fillStyle="#000000",a.fillRect(0,0,640,512))},function(d,b,e){a.fillStyle="#000000";a.fillRect(0,0,640,512);a.save();a.scale(0.5,1);a.font="bold 80px sans-serif";
a.fillStyle="#ffffff";a.textAlign="center";a.textBaseline="top";a.fillText("anti digit mode",640,0);a.restore();4520<b?a.drawImage(w[4],160,120,320,256):3640<b?a.drawImage(w[3],160,120,320,256):2760<b?a.drawImage(w[2],160,120,320,256):1880<b?a.drawImage(w[1],160,120,320,256):1E3<b&&a.drawImage(w[0],160,120,320,256);0.9<e&&(a.globalAlpha=10*(e-0.9),a.fillStyle="#000000",a.fillRect(0,0,640,512))},function(d,b,e){a.fillStyle="#000000";a.fillRect(0,0,640,512);for(d=0;d<va.length;++d){var c=va[d];b>c.a&&
a.drawImage(S,c.e,c.f,c.h-c.e,c.g-c.f,320-S.width/2+c.e,256-S.height+2*c.f,c.h-c.e,2*(c.g-c.f))}0.9<e&&(a.globalAlpha=10*(e-0.9),a.fillStyle="#000000",a.fillRect(0,0,640,512))},function(d,b){a.fillStyle="#000000";a.fillRect(0,0,640,512);3E3>b&&(a.globalAlpha=500>b?b/500:2500<b?(3E3-b)/500:1,a.drawImage(Aa,337,217,118,130));2500<b&&5E3>b&&(a.globalAlpha=0.5*(3E3>b?(b-2500)/500:4500<b?(5E3-b)/500:1),a.drawImage(xa,337,190,118,138));4500<b&&7E3>b&&(a.globalAlpha=5E3>b?(b-4500)/500:6500<b?(7E3-b)/500:
1,a.drawImage(ya,337,201,118,117));6500<b&&9E3>b&&(a.globalAlpha=0.5*(7E3>b?(b-6500)/500:8500<b?(9E3-b)/500:1),a.drawImage(za,337,233,200,89));a.globalAlpha=500>b?b/500:8500<b?(9E3-b)/500:1;a.drawImage(wa,109,119,422,274)}],ka=[{a:0,b:1E4,c:0,d:0},{a:1E4,b:29400,c:1,d:0},{a:29400,b:62400,c:2,d:0},{a:62400,b:77E3,c:3,d:0},{a:77E3,b:9E4,c:4,d:0},{a:9E4,b:92700,c:5,d:0},{a:92700,b:94500,c:5,d:1},{a:94500,b:96200,c:5,d:2},{a:96200,b:105E3,c:5,d:3},{a:105E3,b:133E3,c:6,d:0},{a:133E3,b:147E3,c:7,d:0},{a:147E3,
b:154200,c:7,d:1},{a:154200,b:182E3,c:8,d:0},{a:182E3,b:189500,c:9,d:0},{a:189500,b:2E5,c:10,d:0},{a:2E5,b:209E3,c:11,d:0},!1],A=[],I=0,z=null,H=null;onLoadingDone=function(){H&&(window.clearTimeout(H),H=null);for(var a=[],b=4*Math.atan(1),e=0;65535>=e;++e)a.push(Math.sin(e*b/32768));m=a;Q=document.createElement("CANVAS");Q.width=Q.height=50;s=Q.getContext("2d");J=document.createElement("CANVAS");J.width=160;J.height=128;aa=J.getContext("2d");ba=aa.createImageData(160,128);B=[];for(a=200;0<a;--a){var b=
3.5*a,e=1.9*a,c=0.7*a;255<b&&(b=255);255<e&&(e=255);255<c&&(c=255);B.push(b|0,e|0,c|0)}B.push(0,0,0);for(a=1;200>=a;++a)b=0.6*a,e=1.5*a,c=2.7*a,255<b&&(b=255),255<e&&(e=255),255<c&&(c=255),B.push(b|0,e|0,c|0);E=[];for(a=-100;100>=a;a+=5)E.push(Math.sin(Math.acos(0.0099*a)));a=document.createElement("CANVAS");a.width=F.width;a.height=F.height;a=a.getContext("2d");a.drawImage(F,0,0);C=a.getImageData(0,0,F.width,F.height);K=document.createElement("CANVAS");K.width=K.height=100;ca=K.getContext("2d");
t=ca.createImageData(100,100);L.push({j:"#000000",k:"#000000",l:qa,m:1,n:2});L.push({j:"#000000",k:"#000000",l:ra,m:1,n:2});L.push({j:"#000000",k:"#ffffff",l:sa,m:1,n:2});L.push({j:"#ffffff",k:"#000000",l:ta,m:2,n:2});M=document.createElement("CANVAS");M.width=96;M.height=86;ea=M.getContext("2d");G=ea.createImageData(96,86);R=[];fa=[];for(a=0;2>a;++a)b=document.createElement("CANVAS"),b.width=640,b.height=512,e=b.getContext("2d"),e.fillStyle="#441022",e.fillRect(0,0,640,512),R.push(b),fa.push(e);
na.play()};onItemsLoader=function(d){H&&(window.clearTimeout(H),H=null);a.fillStyle="#000000";a.fillRect(0,0,640,512);a.fillStyle="#000073";a.strokeStyle="#000073";a.lineWidth=50;a.lineCap="round";a.beginPath();a.moveTo(120,256);a.lineTo(520,256);a.stroke();d.i<d.total&&(a.strokeStyle="#000000",a.lineWidth=40,a.beginPath(),a.moveTo(120,256),a.lineTo(520,256),a.stroke(),a.strokeStyle="#000073",a.lineWidth=41,a.beginPath(),a.moveTo(120,256),a.lineTo(120+400*d.i/d.total,256),a.stroke());d.i==d.total&&
(a.textAlign="center",a.textBaseline="middle",a.font="20px sans-serif",a.fillText("Click to start...",320,296),window.setTimeout(onLoadingDone,1),$.addEventListener("click",onLoadingDone,!1))};onDemoDone=function(){window.location.href="../part-3/"};onload=function(){$=document.getElementById("demo");a=$.getContext("2d");P=!1;window.addEventListener("itemsLoader",onItemsLoader,!1);window.addEventListener("demoDone",onDemoDone,!1);var d=document.createElement("AUDIO");d.controls=!0;d.o="auto";ga(d);
d.addEventListener("play",Ea,!1);d.addEventListener("timeupdate",Da,!1);d.addEventListener("progress",U,!1);d.addEventListener("canplay",Ca,!1);var b=d.canPlayType("audio/ogg"),e=d.canPlayType("audio/mpeg");if("probably"==b||"maybe"==b&&"probably"!=e)d.src="elekfunk.ogg";else if("probably"==e||"maybe"==e)d.src="elekfunk.mp3";d.load();na=d;D=q("muscleMan.png");oa=q("sinePlasma.png");F=q("murky.png");pa=q("intelOutside2.png");qa=q("mMonroe2.png");ra=q("shiffer2.png");sa=q("crawford2.png");ta=q("arte2.png");
ua=q("artwork.png");w.push(q("antiDigit1.png"));w.push(q("antiDigit2.png"));w.push(q("antiDigit3.png"));w.push(q("antiDigit4.png"));w.push(q("antiDigit5.png"));S=q("shameOnUs.png");wa=q("noAgaTroll.png");Aa=q("aga.png");xa=q("flash.png");ya=q("silverlight.png");za=q("webGL.png")};window.onload=onload})();