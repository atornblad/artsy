for(_='return @on$.getC$text("2d"`.drawImage(_ent^Ev^Listener(");progress",z,!1;       new THREE.MeshBasicMaterial({color:b}temsLoaderth.lenging.setClearColor("#0(c+1)%8px sans-serif"Timeout(0,d.strokeStyle="#0000,-e equestAnimati$Frame",d.begPa(),d.moveTo(12256),d.leTo((new Date).getTime(	.fillStyle="#var wdow.=docum^.createE,null,null,functi$a.faces.push(Face3(),Vector3(((){ T(){m&&(clearm),m=nullis.removeJ(is)} z(){m&&clearmb=is;m=set(){m=null;b.removeJ(b)},2E3)} J(b){for(a=[],c=0;c<l;++c)l[c]!=b&&a.push(l[c]l=a;bv^("Ev^"b.itEv^("i",!!0b.total=q;b.c=q-l;dispatchEv^(b)} U(){u=is.curr^Time} V(){v=!0;K(L)} L(b){if(A){B=(b-M)/1E3*60;C=b-A;a=N[D];a&&C>=a.b&&(++D,a=N[D]if(a){c=C-a.a,W=c/(a.b-a.aO=X[a.d];h=	d.globalAlpha=1;d.save(O.call(is,a.e,c,W,Bd.restore()}elsv=!1;a=(22-(	)-h)-10*B)/200;0<a&&(a*=0.005a=P+a;1<a?a=1:0.1>a&&(a=0.1P=a}u&&(1>u&&(A=b-1E3*u-250),M=bv?K(L):(bv^("Ev^"),b.itEv^("demoD$e",!!0),dispatchEv^(b))} Q(b){a=PlaneGeometry(2E3,2E3,110b=Mesh(a,)b.rotati$.x=-0.5*Ma.PI;@b} Y(){for(b=[Vector3(-7,84-7,8,4-7,4,8-74,8-78,4-784-748-7,48-7,07,847,8,47,4,874,878,47847487,487,0-6,21-6,2,1-6,1,2-61,2-62,1-621-612-6,126,216,2,16,1,261,262,16216126,12-2,42-2,4,2-2,2,3-22,3-24,2-242-223-2,232,422,4,22,2,322,324,22422232,23)],a=Geometry,c=0;c<b;++c)a.vertices.push(b[c]b=[r(11823665),r(13797955),r(11307910),r(9005668),r(9389598)];for(c=0;7>=c;++c){c,8,c%2)c+9,+9,17(c+1)%2)d=c,h=+18,f=c+18;d,,hc%2+2)h,f,dc%2+2)e=c+9,d=+26,g=c+26;e,d,+9c%2+2)d,e,gc%2+2)e=c+34,k=+34;f,h,k3-c%2)k,e,f3-c%2)h=c+42;f=+42;g,f,d3-c%2)f,g,h3-c%2)e,k,fc%2*4)f,h,ec%2*4))}a=Mesh(a,MeshFaceMaterial(b)a.positi$={x:y:19z:0};@a} r(b){a="#"+b.toStrg(16if(E[a])@E[a];b=@E[a]=b}C=B=1,K=(b,a,c){for(d=0;d<b;++d){e=b[d];if(a[e])@a[e]}@c}(["r,"mozR,"webkitR],wdow,(b){a=	),a=a-a%17+17-a;5>a&&(a=17set(){b.call(wdow,	))},a)}Ma.max(32256F,d,P,M,A,u,D=O,v,R,w,G,S,k,H=[],g,E=[],n,e,s,I,Z=\'ARTSY (and slightly sane;;;;;;PurJavaScript!;;Chrome, Safari, FireFox, iOS Safari, IE9+;(yes, even IE;No Flash or Silverlight needed!;;;;;;;Code:;LBRTW;;Origal design:;Mr. PetChaosMcDeal;;Graphics:;Ra;;Music:;Moby;;;;;;;Thanks must go to:;;mrdoob (and all oers who c$tributto Three.js), every$I knew back  old Demo Scendays, Googl(for makg a kick-ass browser;;;;;;Somwords about demo:;;Thnam"Artsy (and slightly Insane)" is of coursa tributto names of origal demo and amazg group who madit.;;Thvery first scenI wrotwas "disc tunnel" effect, and I was stantly so pleased wi results at I decided to giva full remaka serious try.;;After first two parts werd$e, I showed sompeoplwhat I had d$e, and it got really nicrecepti$. Unfortunately I had no timat mom^ to fish part ree.;;So demo was left hangg for almost six m$s, when I fally managed to freup somtimfor "pleasurcodg" aga. :;;;;;;This is $ly part at takes advantagof WebGL (rough Three.js). All oer parts ar100 % hand-coded JavaScript.;;I did ussomof origal graphics at wereasy to get hold of usg screen dumps.\'.split(";"),x=1,y=t=X=[(b,a){n||(nlem^("CANVAS"),n.wid=256,n.height=1088,e=n`),effffff",e.textBasele="top",slem^("CANVAS"),s.wid=256,s.height=1088,I=s`)d.clearRect(64512if(0!=b){switch(b){cas1:k.positi$.x=40*Ma.s(a/1100k.positi$.z=40*Ma.cos(a/1100k.positi$.y=200+30*Ma.s(a/950k.h=Vector3(0.4*Ma.s(a/1E3+0.7),1,0.7*Ma.s(a/1300+1.1)k.lookAt(H[0].positi$b46d2",1g.render(w,kbreak;cas2:03f79",1g.render(G,kbreak;cas3:b46d2",1),g.render(S,k)}d_g.domElem^,0I.clearRect(256,1088I_n,0e.clearRect(256,1088e_s,01--x;if(0>=x){c=Z[y];x=39;if("strg"==typeof c){0==y?(e.f$t="bold normal 30,x=48,eff9900"):(e.f$t="normal normal 26,effffff"c=c.substr(t),m=e.measureText(c).wid;if(252<m){h=c.split(" "if(1<h)for(f=[],l=0;l<h;++l){if(f.push(h[l]),m=e.measureText(f.jo(" ")).wid,252<m){0==l?c=h[0]:(f-=1,c=f.jo(" ")t+=c+1;break}}elst=y++}elst=y++;e.fillText(c,4,1024)}}d_n,256,1024,512,128,512d.f$t="normal normal 15;d.textBasele="top";d.textAlign="c^er";d000000";d.shadowColor="#ffffff";d.shadowOffsetX=0;d.shadowOffsetY=0;d.shadowBlur=10;d.fillText("is part is obviously not fished yet",256,15)}}],N=[{a:b:2E3,d:e:0},{a:2E3,b:5318d:e:1},{a:5318b:10584d:e:2},{a:10584b:155E3,d:e:3}],l=[],q=m=null,p=null;$LoadgD$e=(){p&&(clearp),p=nullw=Scene;k=PerspectiveCamera(51,0.1,1E3g=WebGLRenderer;g.setSize(512,512g.g=!0;H.push(Y()w.add(H[0]w.add(Q(4222512)G=Scene;G.add(Q(3039881)S=Scene;R.play()};$I=(b){p&&(clearp),p=nulld000000";d.fillRect(64512d000073";73";d.leWid=50;d.leCap="round";d.begPa(d.moveTo(12256d.leTo(52256d.stroke(b.c<b.total&&(00",d.leWid=4052256),d.stroke(),73",d.leWid=41120+400*b.c/b.total,256),d.stroke()b.c==b.total&&(d.textAlign="c^er",d.textBasele="middle",d.f$t="20,d.fillText("Click to start...",32296),set$LoadgD$e,1),F.addclick",$LoadgD$e,!1))};$DemoD$e=(){locati$.href="/part-3/"};$load=(){F=docum^.getElem^ById("demo"d=F`v=!1;addi",$I,!1blem^("AUDIO"b.c$trols=!0;b.f="auto";l.push(b++q;av^("Ev^"a.itEv^("i",!!0a.total=q;a.c=q-l;dispatchEv^(ab.addplay",V,!1b.addtimeupdate",U,!1b.addb.addcanplay",T,!1a=b.canPlayType("audio/ogg"),c=b.canPlayType("audio/mpeg"if("probably"==a||"maybe"==a&&"probably"!=c)b.src="mobyle.ogg";elsif("probably"==c||"maybe"==c)b.src="mobyle.mp3";b.load(R=b};$load=$load})(';g=/[-^-`$@]/.exec(_);)with(_.split(g))_=join(shift());eval(_)